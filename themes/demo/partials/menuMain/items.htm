{% for item in items if not item.viewBag.isHidden %}
    <li class="{{ item.isActive ? 'active' : '' }} {{ item.isChildActive ? 'child-active' : '' }} {{ item.viewBag.cssClass }}{% if item.items %} is-dropdown-submenu-parent{% endif %}" role="menuitem">
        {% if item.url %}
            <a href="{{ item.url }}" {{ item.viewBag.isExternal ? 'target="_blank"' }}>
               <span>{{ item.title|raw }}</span>
            </a>
        {% else %}
            <a href='#'>{{ item.title|raw }}</a>
        {% endif %}

        {% if item.items %}
            <ul class="menu">{% partial __SELF__ ~ "::items" items=item.items %}</ul>
        {% endif %}
    </li>
{% endfor %}